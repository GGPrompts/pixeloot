{"id":"pixeloot-0zx","title":"Fix armor formula to include monster level","description":"Current armor formula uses armor / (armor + 100) which ignores monster level. GDD specifies: Damage Reduction % = Armor / (Armor + K) where K = 100 + (10 * Monster Level). This makes armor less effective against higher-level monsters, adding a meaningful scaling pressure.","notes":"## Retro\n- What worked: Clear task spec with exact line numbers and formula made implementation straightforward\n- What was unclear: Whether enemy projectiles should carry level info from their source enemy; defaulted to level 1 for now since projectile entities don't have a level property","status":"closed","priority":2,"issue_type":"bug","owner":"marcinek.matthew@gmail.com","created_at":"2026-02-25T14:23:35Z","created_by":"GGPrompts","updated_at":"2026-02-25T14:29:54Z","closed_at":"2026-02-25T14:29:54Z","close_reason":"Armor formula now scales with monster level per GDD: armor / (armor + 100 + 10 * monsterLevel)","labels":["balance","combat","m4","ready"]}
{"id":"pixeloot-6ie","title":"Wire map tier bonus into monster scaling","description":"Map tier bonus (mapTierBonus) is always 0 in MonsterScaling.ts. The MapItem's tier value needs to be passed through to the scaling config so higher-tier maps actually produce tougher monsters. Per GDD formula: Monster Level = max(Map Base Level, Player Level - 2) + Map Tier Bonus.","notes":"## Retro\n- What worked: Clear task description with exact file paths and line numbers made this straightforward to implement.\n- What was unclear: Nothing -- the implementation steps were well-defined.","status":"closed","priority":1,"issue_type":"bug","owner":"marcinek.matthew@gmail.com","created_at":"2026-02-25T14:23:29Z","created_by":"GGPrompts","updated_at":"2026-02-25T14:29:21Z","closed_at":"2026-02-25T14:29:21Z","close_reason":"Map tier bonus now wired into monster scaling. MapDevice tracks activeTierBonus from mapItem.tier, WaveSystem and EnemySpawner use getActiveTierBonus() instead of DEFAULT_SCALING_CONFIG.","labels":["m4","progression","quick-fix","ready"]}
{"id":"pixeloot-8h3","title":"Add gem removal crafting recipe","description":"GDD states gems can be removed and reused for a gold cost. Currently gems are permanent once socketed. Add a gem removal recipe to CraftingPanel/CraftingSystem that costs gold, returns the gem to the player's backpack, and clears the item's socket.","notes":"## Retro\n- What worked: Clear task spec with exact file locations and line numbers made implementation straightforward. Existing recipe pattern was easy to follow.\n- What was unclear: Nothing significant -- the task was well-scoped.","status":"closed","priority":3,"issue_type":"feature","owner":"marcinek.matthew@gmail.com","created_at":"2026-02-25T14:23:40Z","created_by":"GGPrompts","updated_at":"2026-02-25T14:29:28Z","closed_at":"2026-02-25T14:29:28Z","close_reason":"Added Remove Gem crafting recipe (1 Essence cost) that extracts a socketed gem back to the player's gem inventory while preserving the empty socket on the item. Stats recalc triggered on use.","labels":["crafting","gems","m4","ready"]}
{"id":"pixeloot-eil","title":"Add stat respec for gold","description":"Currently there is no way to undo stat point allocation. GDD says respec should be available at a gold cost. Options: add a Respec button to the stat panel (Tab), or add it as an NPC interaction in town. Should reset all stat points and refund them for re-spending. Gold cost could scale with level.","notes":"## Retro\n- What worked: Clean integration into existing StatPanel pattern -- reused applyStatEffects, same button styling conventions, and the existing ECS query pattern extended with 'gold'.\n- What was unclear: Whether floating text should appear in world space or panel space -- chose panel-local feedback text since the player is interacting with UI, not the game world.","status":"closed","priority":2,"issue_type":"feature","owner":"marcinek.matthew@gmail.com","created_at":"2026-02-25T14:23:38Z","created_by":"GGPrompts","updated_at":"2026-02-25T14:30:44Z","closed_at":"2026-02-25T14:30:44Z","close_reason":"Stat respec available in stat panel for gold. Respec button added below computed stats, costs level*50 gold, refunds all allocated points, grayed out when no stats allocated or insufficient gold, with feedback text.","labels":["m4","progression","ready","town"]}
{"id":"pixeloot-ju6","title":"Implement remaining map modifiers (Fire Enchanted, Volatile, Iron Skin, Empowered Boss)","description":"4 of 7 map modifiers are defined in the pool and displayed in the UI but have no gameplay effect. Need to implement: (1) Fire Enchanted - enemies apply Burn status on hit, (2) Volatile - enemies explode on death dealing AoE damage, (3) Iron Skin - enemies resist first hit (shield/absorb), (4) Empowered Boss - boss gets +2 extra phases. Only hp_boost, speed_boost, and extra_swarm currently work.","notes":"## Retro\n- What worked: The codebase already had partial scaffolding for 3 of 4 modifiers (iron skin check in CollisionSystem, fire enchanted on contact, volatile with damage). This made it straightforward to fill in the gaps.\n- What was unclear: The volatile modifier's original implementation used enemy.damage * 0.5 which could be 0 for snipers; switching to 15% max HP is more consistent. The empowered boss phase scaling needed careful interpolation to feel smooth across 5 phases instead of just 3.","status":"closed","priority":1,"issue_type":"feature","owner":"marcinek.matthew@gmail.com","created_at":"2026-02-25T14:23:32Z","created_by":"GGPrompts","updated_at":"2026-02-25T14:34:17Z","closed_at":"2026-02-25T14:34:17Z","close_reason":"All 7 map modifiers now have runtime effects. Implemented: (1) Fire Enchanted - enemies apply Burn on contact AND projectile hits, (2) Volatile - 15% max HP AoE explosion on death with orange particle burst, (3) Iron Skin - first hit absorbed (0 damage) with grey number, (4) Empowered Boss - 5 phases (0.8/0.6/0.4/0.2 thresholds) with escalating attack speed and burst count.","labels":["combat","m4","map-modifiers","ready"],"dependencies":[{"issue_id":"pixeloot-ju6","depends_on_id":"pixeloot-0zx","type":"related","created_at":"2026-02-25T09:27:09Z","created_by":"GGPrompts","metadata":"{}"},{"issue_id":"pixeloot-ju6","depends_on_id":"pixeloot-6ie","type":"related","created_at":"2026-02-25T09:23:50Z","created_by":"GGPrompts","metadata":"{}"}]}
{"id":"pixeloot-jvr","title":"Audit and implement unique item runtime effects","description":"12 unique items are defined in UniqueItems.ts with effectIds, but it's unclear how many actually trigger runtime behavior. Need to: (1) audit which effectIds are handled in WeaponBehaviors.ts and StatEffects.ts, (2) identify which are missing runtime implementations, (3) implement the missing ones. Effects include: splinterbow_spread, inferno_burning_ground, voidcaster_frost_nova, phasewalker_trap, echoes_cooldown_reset, vampiric_leech, prism_status_amplify, grid_extra_projectile, chrono_cheat_death, essence_kill_frenzy.","notes":"## Retro\n- What worked: Reading all files first to understand the full architecture before making changes. The hasEffect() helper pattern kept changes simple and localized. Building after all changes confirmed zero type errors.\n- What was unclear: Whether grid_extra_projectile should apply to AoE skills (Rain of Arrows, Meteor) or just projectile skills. Chose projectile-only since +1 projectile for AoE doesn't make conceptual sense.","status":"closed","priority":3,"issue_type":"task","owner":"marcinek.matthew@gmail.com","created_at":"2026-02-25T14:23:44Z","created_by":"GGPrompts","updated_at":"2026-02-25T14:40:16Z","closed_at":"2026-02-25T14:40:16Z","close_reason":"All 12 unique item effects implemented at runtime. Created UniqueEffects.ts helper and hooked into CollisionSystem, HealthSystem, SkillSystem, StatusEffectSystem, Projectile.ts, Ranger.ts, and Mage.ts. Build passes clean.","labels":["loot","m5","ready","uniques"],"dependencies":[{"issue_id":"pixeloot-jvr","depends_on_id":"pixeloot-ju6","type":"related","created_at":"2026-02-25T09:27:10Z","created_by":"GGPrompts","metadata":"{}"}]}
